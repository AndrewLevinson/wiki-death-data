!function(n){function t(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return n[e].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};t.m=n,t.c=a,t.i=function(n){return n},t.d=function(n,a,e){t.o(n,a)||Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:e})},t.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(a,"a",a),a},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=0)}([function(module,exports,__webpack_require__){"use strict";eval('\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();\n\nvar margin = { top: 10, right: 30, bottom: 30, left: 60 };\nvar width = 500 - margin.left - margin.right;\nvar height = 500 - margin.top - margin.bottom;\n\nfunction setupChart(data) {\n  var _data = _slicedToArray(data, 2),\n      peopleData = _data[0],\n      pageviewData = _data[1];\n\n  var joinedData = peopleData.map(function (d) {\n    return _extends({}, d, {\n      pageviews: pageviewData.filter(function (p) {\n        return p.pageid === d.pageid;\n      })\n    });\n  });\n\n  var $person = d3.select("main").selectAll(".person").data(joinedData).enter().append("div").attr("class", "person");\n\n  $person.append("p").attr("class", "name").text(function (d) {\n    return d.display;\n  });\n\n  var $svg = $person.append("svg");\n\n  $svg.attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom);\n\n  var $g = $svg.append("g");\n\n  $g.attr("transform", "translate(" + margin.left + ", " + margin.top + ")");\n\n  var $axisX = $g.append("g").attr("class", "g-axis axis--x");\n  var $axisY = $g.append("g").attr("class", "g-axis axis--y");\n  var $vis = $g.append("g").attr("class", "g-vis");\n  var $path = $vis.append("path").attr("class", "pageviews");\n\n  var scaleX = d3.scaleTime().domain(d3.extent(pageviewData, function (d) {\n    return d.date;\n  })).range([0, width]);\n\n  var scaleY = d3.scaleLinear().domain([0, d3.max(peopleData, function (d) {\n    return d.max_views;\n  })]).range([height, 0]);\n\n  var line = d3.line().x(function (d) {\n    return scaleX(d.date);\n  }).y(function (d) {\n    return scaleY(d.views);\n  }).defined(function (d) {\n    return d.date;\n  });\n\n  $path.datum(function (d) {\n    return d.pageviews;\n  }).attr("d", line);\n\n  // $vis\n  //   .selectAll(\'circle\')\n  //   .data(pageviews)\n  //   .enter()\n  //   .append(\'circle\')\n  //   .attr(\'cx\', d => scaleX(d.date))\n  //   .attr(\'cy\', d => scaleY(d.views))\n  //   .attr(\'r\', 2);\n\n  var axisY = d3.axisLeft(scaleY);\n  $axisY.call(axisY);\n\n  var axisX = d3.axisBottom(scaleX);\n  $axisX.call(axisX).attr("transform", "translate(0, " + height + ")");\n}\n\nfunction convertTimestampToDate(timestamp) {\n  var year = timestamp.substring(0, 4);\n  var month = +timestamp.substring(4, 6) - 1;\n  var date = timestamp.substring(6, 8);\n  return new Date(year, month, date);\n}\n\nfunction loadPeopleData() {\n  return new Promise(function (resolve, reject) {\n    d3.csv("data/people.csv", function (d) {\n      return _extends({}, d, {\n        max_views: +d.max_views,\n        max_percent_traffic: +d.max_percent_traffic,\n        thumbnail_width: +d.thumbnail_width,\n        thumbnail_height: +d.thumbnail_height,\n        year_of_birth: +d.year_of_birth,\n        year_of_death: +d.year_of_death\n      });\n    }).then(resolve).catch(reject);\n  });\n}\n\nfunction loadPageviewsData() {\n  return new Promise(function (resolve, reject) {\n    d3.csv("data/pageviews.csv", function (d) {\n      return _extends({}, d, {\n        date: convertTimestampToDate(d.timestamp),\n        views: +d.views,\n        percent_traffic: +d.percent_traffic\n      });\n    }).then(resolve).catch(reject);\n  });\n}\n\nfunction init() {\n  var p = [loadPeopleData(), loadPageviewsData()];\n  Promise.all(p).then(setupChart).catch(console.error);\n}\n\ninit();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zY3JpcHQuanM/OWE5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtYXJnaW4gPSB7IHRvcDogMTAsIHJpZ2h0OiAzMCwgYm90dG9tOiAzMCwgbGVmdDogNjAgfTtcbmNvbnN0IHdpZHRoID0gNTAwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG5jb25zdCBoZWlnaHQgPSA1MDAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuZnVuY3Rpb24gc2V0dXBDaGFydChkYXRhKSB7XG4gIGNvbnN0IFtwZW9wbGVEYXRhLCBwYWdldmlld0RhdGFdID0gZGF0YTtcblxuICBjb25zdCBqb2luZWREYXRhID0gcGVvcGxlRGF0YS5tYXAoZCA9PiAoe1xuICAgIC4uLmQsXG4gICAgcGFnZXZpZXdzOiBwYWdldmlld0RhdGEuZmlsdGVyKHAgPT4gcC5wYWdlaWQgPT09IGQucGFnZWlkKVxuICB9KSk7XG5cbiAgY29uc3QgJHBlcnNvbiA9IGQzXG4gICAgLnNlbGVjdChcIm1haW5cIilcbiAgICAuc2VsZWN0QWxsKFwiLnBlcnNvblwiKVxuICAgIC5kYXRhKGpvaW5lZERhdGEpXG4gICAgLmVudGVyKClcbiAgICAuYXBwZW5kKFwiZGl2XCIpXG4gICAgLmF0dHIoXCJjbGFzc1wiLCBcInBlcnNvblwiKTtcblxuICAkcGVyc29uXG4gICAgLmFwcGVuZChcInBcIilcbiAgICAuYXR0cihcImNsYXNzXCIsIFwibmFtZVwiKVxuICAgIC50ZXh0KGQgPT4gZC5kaXNwbGF5KTtcblxuICBjb25zdCAkc3ZnID0gJHBlcnNvbi5hcHBlbmQoXCJzdmdcIik7XG5cbiAgJHN2Z1xuICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSk7XG5cbiAgY29uc3QgJGcgPSAkc3ZnLmFwcGVuZChcImdcIik7XG5cbiAgJGcuYXR0cihcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKCR7bWFyZ2luLmxlZnR9LCAke21hcmdpbi50b3B9KWApO1xuXG4gIGNvbnN0ICRheGlzWCA9ICRnLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsIFwiZy1heGlzIGF4aXMtLXhcIik7XG4gIGNvbnN0ICRheGlzWSA9ICRnLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsIFwiZy1heGlzIGF4aXMtLXlcIik7XG4gIGNvbnN0ICR2aXMgPSAkZy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImctdmlzXCIpO1xuICBjb25zdCAkcGF0aCA9ICR2aXMuYXBwZW5kKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIiwgXCJwYWdldmlld3NcIik7XG5cbiAgY29uc3Qgc2NhbGVYID0gZDNcbiAgICAuc2NhbGVUaW1lKClcbiAgICAuZG9tYWluKGQzLmV4dGVudChwYWdldmlld0RhdGEsIGQgPT4gZC5kYXRlKSlcbiAgICAucmFuZ2UoWzAsIHdpZHRoXSk7XG5cbiAgY29uc3Qgc2NhbGVZID0gZDNcbiAgICAuc2NhbGVMaW5lYXIoKVxuICAgIC5kb21haW4oWzAsIGQzLm1heChwZW9wbGVEYXRhLCBkID0+IGQubWF4X3ZpZXdzKV0pXG4gICAgLnJhbmdlKFtoZWlnaHQsIDBdKTtcblxuICBjb25zdCBsaW5lID0gZDNcbiAgICAubGluZSgpXG4gICAgLngoZCA9PiBzY2FsZVgoZC5kYXRlKSlcbiAgICAueShkID0+IHNjYWxlWShkLnZpZXdzKSlcbiAgICAuZGVmaW5lZChkID0+IGQuZGF0ZSk7XG5cbiAgJHBhdGguZGF0dW0oZCA9PiBkLnBhZ2V2aWV3cykuYXR0cihcImRcIiwgbGluZSk7XG5cbiAgLy8gJHZpc1xuICAvLyAgIC5zZWxlY3RBbGwoJ2NpcmNsZScpXG4gIC8vICAgLmRhdGEocGFnZXZpZXdzKVxuICAvLyAgIC5lbnRlcigpXG4gIC8vICAgLmFwcGVuZCgnY2lyY2xlJylcbiAgLy8gICAuYXR0cignY3gnLCBkID0+IHNjYWxlWChkLmRhdGUpKVxuICAvLyAgIC5hdHRyKCdjeScsIGQgPT4gc2NhbGVZKGQudmlld3MpKVxuICAvLyAgIC5hdHRyKCdyJywgMik7XG5cbiAgY29uc3QgYXhpc1kgPSBkMy5heGlzTGVmdChzY2FsZVkpO1xuICAkYXhpc1kuY2FsbChheGlzWSk7XG5cbiAgY29uc3QgYXhpc1ggPSBkMy5heGlzQm90dG9tKHNjYWxlWCk7XG4gICRheGlzWC5jYWxsKGF4aXNYKS5hdHRyKFwidHJhbnNmb3JtXCIsIGB0cmFuc2xhdGUoMCwgJHtoZWlnaHR9KWApO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0VGltZXN0YW1wVG9EYXRlKHRpbWVzdGFtcCkge1xuICBjb25zdCB5ZWFyID0gdGltZXN0YW1wLnN1YnN0cmluZygwLCA0KTtcbiAgY29uc3QgbW9udGggPSArdGltZXN0YW1wLnN1YnN0cmluZyg0LCA2KSAtIDE7XG4gIGNvbnN0IGRhdGUgPSB0aW1lc3RhbXAuc3Vic3RyaW5nKDYsIDgpO1xuICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGgsIGRhdGUpO1xufVxuXG5mdW5jdGlvbiBsb2FkUGVvcGxlRGF0YSgpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBkMy5jc3YoXCJkYXRhL3Blb3BsZS5jc3ZcIiwgZCA9PiAoe1xuICAgICAgLi4uZCxcbiAgICAgIG1heF92aWV3czogK2QubWF4X3ZpZXdzLFxuICAgICAgbWF4X3BlcmNlbnRfdHJhZmZpYzogK2QubWF4X3BlcmNlbnRfdHJhZmZpYyxcbiAgICAgIHRodW1ibmFpbF93aWR0aDogK2QudGh1bWJuYWlsX3dpZHRoLFxuICAgICAgdGh1bWJuYWlsX2hlaWdodDogK2QudGh1bWJuYWlsX2hlaWdodCxcbiAgICAgIHllYXJfb2ZfYmlydGg6ICtkLnllYXJfb2ZfYmlydGgsXG4gICAgICB5ZWFyX29mX2RlYXRoOiArZC55ZWFyX29mX2RlYXRoXG4gICAgfSkpXG4gICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgLmNhdGNoKHJlamVjdCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkUGFnZXZpZXdzRGF0YSgpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBkMy5jc3YoXCJkYXRhL3BhZ2V2aWV3cy5jc3ZcIiwgZCA9PiAoe1xuICAgICAgLi4uZCxcbiAgICAgIGRhdGU6IGNvbnZlcnRUaW1lc3RhbXBUb0RhdGUoZC50aW1lc3RhbXApLFxuICAgICAgdmlld3M6ICtkLnZpZXdzLFxuICAgICAgcGVyY2VudF90cmFmZmljOiArZC5wZXJjZW50X3RyYWZmaWNcbiAgICB9KSlcbiAgICAgIC50aGVuKHJlc29sdmUpXG4gICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gIGNvbnN0IHAgPSBbbG9hZFBlb3BsZURhdGEoKSwgbG9hZFBhZ2V2aWV3c0RhdGEoKV07XG4gIFByb21pc2UuYWxsKHApXG4gICAgLnRoZW4oc2V0dXBDaGFydClcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG59XG5cbmluaXQoKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzY3JpcHQuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFGQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBT0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFKQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')}]);